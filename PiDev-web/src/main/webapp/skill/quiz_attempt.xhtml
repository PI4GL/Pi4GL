<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">



         
       <head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Category Section</title>
</head>

	<ui:define name="title">            
			Quiz | #{quizBean.userQuiz.quiz.title}
        </ui:define>

	<ui:define name="content2">

		<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
		<link rel="stylesheet" href="../resources/css/quiz/quiz.css" />

		<script
			src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
		<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

		<div class="mx-auto container-fluid" style="width: 700px;">

			<div class="row justify-content-center">
				<br></br>
				<div class="col-10">
					<h:form class="form"
						id="inlineFormCustomSelect">
						<div >
							<div >
								<div >
									<div class="header">
										<h3>
											<span class="label label-warning" id="qid">#{quizBean.userQuiz.currentQuestionIndex
												+ 1}</span> #{quizBean.currentQuizQuestion.content}
										</h3>
									</div>
									<div >
										<div >
											<div >
												<div class="blockG" id="rotateG_01"></div>
												<div class="blockG" id="rotateG_02"></div>
												<div class="blockG" id="rotateG_03"></div>
												<div class="blockG" id="rotateG_04"></div>
												<div class="blockG" id="rotateG_05"></div>
												<div class="blockG" id="rotateG_06"></div>
												<div class="blockG" id="rotateG_07"></div>
												<div class="blockG" id="rotateG_08"></div>
											</div>
										</div>


										<h:form id="form">
											<ui:repeat value="#{quizBean.userQuestionResponses}"
												var="uqr" varStatus="i">
												<label class="element-animation1 btn btn- btn-block">
													<h:selectBooleanCheckbox style="margin-right: 1px" id="a">
														<span class="btn-label"><i
															class="glyphicon glyphicon-chevron-right"></i></span>
														<f:attribute name="value" value="#{uqr.isChecked}" />
														<f:ajax event="click"
															listener="#{quizBean.updateUserQuestionResponse(uqr.response.id,uqr.isChecked)}" />
													</h:selectBooleanCheckbox> ${i.index + 1}: #{uqr.response.content}
												</label>
												<h:outputLabel value="#{boxElement.val}" for="a" />
											</ui:repeat>

											<h:commandButton 
												action="#{quizBean.previousQuestion}" type="submit"
												value="Previous question" id="prev-q-btn"
												disabled="#{!quizBean.hasPreviousQuestion}" />

											<c:choose>
												<c:when test="#{quizBean.hasNextQuestion}">
													<h:commandButton class="btn btn-success waves-effect waves-light mr-2"
														action="#{quizBean.nextQuestion}" type="submit"
														value="Next question" id="next-q-btn" />
												</c:when>
												<c:otherwise>
													<h:commandButton class="btn btn-inverse waves-effect waves-light"
														action="#{quizBean.showQuizResult}" type="submit"
														value="Finish!" id="show-results-btn" />
												</c:otherwise>
											</c:choose>

										</h:form>


									</div>
									<div class="footer">
										<span id="answer"></span>
									</div>
								</div>
							</div>
						</div>
					</h:form>
				</div>
			</div>
		</div>
</ui:define>
</html>